# .env Template - SovereignStack
# Place all your secrets and infrastructure-specific variables here.
# IMPORTANT: Do not commit the actual .env file to GitHub.

# Global Settings
TZ="Europe/Amsterdam"

# Frigate RTSP Password
# Single quotes are mandatory here for correct parsing by Frigate.
FRIGATE_RTSP_PASSWORD='<REPLACE_WITH_SECURE_PASSWORD>'

# Home Assistant Credentials
HA_USER="admin"
HA_PASSWORD="<REPLACE_WITH_STRONG_PASSWORD>"

# MQTT Users
# These users must be created manually within the MQTT container.
FRIGATE_MQTT_USER="frigate_user"
FRIGATE_MQTT_PASSWORD="<REPLACE_WITH_PASSWORD>"

HA_MQTT_USER="ha_user"
HA_MQTT_PASSWORD="<REPLACE_WITH_PASSWORD>"

# Domain Settings
DOMAIN="example.com"

# System Paths
DOCKER_ROOT="/home/<YOUR_LINUX_USER>/docker"

# SMTP Relay Settings (e.g., for Freedom.nl or Gmail)
# Used by msmtp for high-priority health alerts.
SMTP_HOST="smtp.freedom.nl"
SMTP_PORT="587"
SMTP_TLS="yes"

# Nginx Proxy Manager Certificate ID
# Identify your ID by running:
# ls /home/<username>/docker/npm/letsencrypt/archive
NPM_CERT_ID="npm-x"

SIGNUPS_ALLOWED="true"

# Smallstep (Step-CA) Configuration
STEP_CA_EMAIL="admin@example.com"
STEPCA_PASSWORD="<REPLACE_WITH_PASSWORD>"
STEPCA_PROVISIONER_NAME="admin@example.com"
STEPCA_PROVISIONER_PASSWORD="<REPLACE_WITH_STRONG_PASSWORD>"
# Use your server's local LAN IP (e.g., 192.168.1.x)
STEP_CA_DNS_IP="<YOUR_SERVER_LOCAL_IP>"
STEPCAT_FINGERPRINT="<REPLACE_WITH_YOUR_CA_FINGERPRINT>"

# Dashboard/Icon Settings
ICON_BLACKLIST_LOCAL="false"
ICON_DOWNLOAD_TIMEOUT="10"

# Nextcloud Specific Variables
NEXTCLOUD_DB_ROOT_PASSWORD="<REPLACE_WITH_DB_ROOT_PASSWORD>"
NEXTCLOUD_DB_PASSWORD="<REPLACE_WITH_DB_USER_PASSWORD>"
NEXTCLOUD_DB_USER="nextcloud"
NEXTCLOUD_DB_NAME="nextcloud"
NEXTCLOUD_DOMAIN="nextcloud.example.com"

# Backup Configuration
BACKUP_EMAIL="your_email@provider.com"
BACKUP_PASSWORD="<REPLACE_WITH_ENCRYPTION_PASSWORD>"
BACKUP_RETENTION_DAYS="7"

# --- Backup Granularity ---
# Include Frigate video storage (usually very large)
INCLUDE_FRIGATE_DATA="false"
# Include Nextcloud user data (photos, documents, etc.)
INCLUDE_NEXTCLOUD_DATA="true"

# --- Remote Backup Target (Windows/NAS/Mac) ---
PC_USER="your_pc_username"
PC_IP="<YOUR_TARGET_PC_IP>"

# OS Type: options are "windows", "linux", or "mac"
BACKUP_TARGET_OS="windows"

# Path Notation:
# For Windows SFTP: Use "/DRIVE:/Path" (e.g., "/H:/BackupsPi")
# For Linux/Mac SFTP: Use absolute paths (e.g., "/home/user/backups")
PC_BACKUP_PATH="/X:/Your/Path"